<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CEH v13 Module 18: IoT and OT Hacking</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --background-color: #f8f9fa;
            --text-color: #2c3e50;
            --card-background: #ffffff;
            --border-color: #dee2e6;
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: var(--background-color);
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: var(--gradient-primary);
            color: white;
            text-align: center;
            padding: 40px 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .progress-container {
            background: rgba(255,255,255,0.2);
            border-radius: 25px;
            padding: 5px;
            margin: 20px 0;
            position: relative;
            z-index: 1;
        }

        .progress-bar {
            background: var(--gradient-success);
            height: 20px;
            border-radius: 20px;
            width: 0%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }

        .navigation {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
            position: sticky;
            top: 20px;
            z-index: 100;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .nav-btn {
            padding: 12px 20px;
            background: var(--card-background);
            border: 2px solid var(--border-color);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            text-decoration: none;
            color: var(--text-color);
            white-space: nowrap;
        }

        .nav-btn:hover {
            background: var(--secondary-color);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .nav-btn.active {
            background: var(--gradient-primary);
            color: white;
            border-color: transparent;
        }

        .content-area {
            background: var(--card-background);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            min-height: 600px;
        }

        .module-section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .module-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            color: var(--primary-color);
            border-bottom: 3px solid var(--secondary-color);
            padding-bottom: 10px;
            margin-bottom: 30px;
            font-size: 2.2em;
        }

        .card {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .card h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .card h4 {
            color: var(--secondary-color);
            margin: 15px 0 10px 0;
            font-size: 1.2em;
        }

        .highlight-box {
            background: var(--gradient-secondary);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }

        .warning-box {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-left: 5px solid var(--warning-color);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .info-box {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-left: 5px solid var(--secondary-color);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: var(--gradient-primary);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: scale(1.05);
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin: 10px 5px;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
        }

        .btn-success {
            background: var(--success-color);
            color: white;
        }

        .btn-warning {
            background: var(--warning-color);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .quiz-container {
            background: var(--card-background);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid var(--border-color);
        }

        .question {
            margin: 25px 0;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            border-left: 5px solid var(--secondary-color);
        }

        .question h4 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .options {
            margin: 15px 0;
        }

        .option {
            display: block;
            margin: 10px 0;
            padding: 10px 15px;
            background: white;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            border-color: var(--secondary-color);
            background: rgba(52, 152, 219, 0.1);
        }

        .option.selected {
            border-color: var(--secondary-color);
            background: rgba(52, 152, 219, 0.2);
        }

        .option.correct {
            border-color: var(--success-color);
            background: rgba(39, 174, 96, 0.2);
        }

        .option.incorrect {
            border-color: var(--accent-color);
            background: rgba(231, 76, 60, 0.2);
        }

        .explanation {
            margin-top: 15px;
            padding: 15px;
            background: rgba(52, 152, 219, 0.1);
            border-radius: 8px;
            border-left: 4px solid var(--secondary-color);
            display: none;
        }

        .iot-architecture {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .layer-card {
            background: var(--gradient-primary);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .layer-card:hover {
            transform: translateY(-5px);
        }

        .attack-vector {
            background: linear-gradient(135deg, rgba(231, 76, 60, 0.1), rgba(192, 57, 43, 0.1));
            border-left: 5px solid var(--accent-color);
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .tool-showcase {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .tool-card {
            background: var(--card-background);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            border-color: var(--secondary-color);
        }

        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background-color: var(--card-background);
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            right: 20px;
            top: 20px;
        }

        .close:hover {
            color: var(--accent-color);
        }

        .terminal {
            background: #1a1a1a;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
        }

        .terminal-line {
            margin: 5px 0;
        }

        .terminal-prompt::before {
            content: '$ ';
            color: #ffff00;
        }

        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .resource-card {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 20px;
            transition: transform 0.3s ease;
        }

        .resource-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }

        .resource-link {
            color: var(--secondary-color);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .resource-link:hover {
            color: var(--primary-color);
            text-decoration: underline;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .stat-card {
            background: var(--gradient-primary);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .grid-2,
            .grid-3 {
                grid-template-columns: 1fr;
            }
            
            .navigation {
                flex-direction: column;
                align-items: center;
            }
        }

        .keyboard-hint {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🌐 CEH v13 Module 18: IoT and OT Hacking</h1>
            <p>Internet of Things • Operational Technology • Industrial Control Systems • Smart Device Security</p>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar">
                    <span id="progressText">Progress: 0% Complete</span>
                </div>
            </div>
            <div style="margin-top: 15px; font-size: 0.9em; color: rgba(255,255,255,0.8);">
                <span style="background: rgba(255,255,255,0.1); padding: 8px 15px; border-radius: 20px; margin: 0 5px;">
                    ← → Navigate Sections
                </span>
                <span style="background: rgba(255,255,255,0.1); padding: 8px 15px; border-radius: 20px; margin: 0 5px;">
                    Esc Close Modal
                </span>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <button class="nav-btn active" onclick="showSection('overview')">📋 Overview</button>
            <button class="nav-btn" onclick="showSection('iot-fundamentals')">🔌 IoT Fundamentals</button>
            <button class="nav-btn" onclick="showSection('ot-systems')">🏭 OT Systems</button>
            <button class="nav-btn" onclick="showSection('attack-vectors')">⚔️ Attack Vectors</button>
            <button class="nav-btn" onclick="showSection('methodology')">🛠️ Methodology</button>
            <button class="nav-btn" onclick="showSection('tools')">🔧 Tools</button>
            <button class="nav-btn" onclick="showSection('countermeasures')">🛡️ Countermeasures</button>
            <button class="nav-btn" onclick="showSection('quiz')">📝 Assessment</button>
            <button class="nav-btn" onclick="showSection('resources')">📚 Resources</button>
        </div>

        <div class="content-area">
            <!-- Overview Section -->
            <div id="overview" class="module-section active">
                <h2 class="section-title">🎯 Module 18 Overview</h2>
                
                <div class="card">
                    <h3>🌐 IoT and OT: The Connected World Under Attack</h3>
                    <p>Welcome to CEH v13 Module 18! In this comprehensive module, we explore the rapidly expanding attack surface of Internet of Things (IoT) devices and Operational Technology (OT) systems. As smart devices proliferate and industrial systems become increasingly connected, the security challenges multiply exponentially.</p>
                </div>

                <div class="highlight-box">
                    <h3>📊 Critical Statistics</h3>
                    <p>By 2025, there will be over 75 billion connected IoT devices worldwide, with industrial IoT (IIoT) representing over 40% of this ecosystem.</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-number">75B+</span>
                        <span>IoT Devices by 2025</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">400%</span>
                        <span>Increase in IoT Attacks</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">68%</span>
                        <span>Devices with Vulnerabilities</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">$6T</span>
                        <span>IoT Market Value</span>
                    </div>
                </div>

                <div class="card">
                    <h3>📚 Learning Objectives</h3>
                    <p>By completing this module, you will master:</p>
                    <div class="grid-2">
                        <div>
                            <h4>🔌 IoT Security</h4>
                            <ul style="margin: 10px 0; padding-left: 20px; line-height: 1.8;">
                                <li>IoT architecture and communication protocols</li>
                                <li>OWASP IoT Top 10 vulnerabilities</li>
                                <li>Smart device attack vectors and methodologies</li>
                                <li>IoT malware analysis and botnet operations</li>
                            </ul>
                        </div>
                        <div>
                            <h4>🏭 OT Security</h4>
                            <ul style="margin: 10px 0; padding-left: 20px; line-height: 1.8;">
                                <li>Industrial Control Systems (ICS) architecture</li>
                                <li>SCADA, PLC, and DCS system vulnerabilities</li>
                                <li>OT-specific attack techniques and tools</li>
                                <li>IT/OT convergence security challenges</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="info-box">
                    <h4>🎯 Real-World Impact</h4>
                    <p>Recent incidents include the <strong>Colonial Pipeline ransomware attack</strong> that disrupted fuel supplies across the Eastern US, and the <strong>Mirai botnet</strong> that compromised over 600,000 IoT devices for massive DDoS attacks.</p>
                </div>

                <button class="btn btn-success" onclick="showSection('iot-fundamentals')">Begin Learning: IoT Fundamentals →</button>
            </div>

            <!-- IoT Fundamentals Section -->
            <div id="iot-fundamentals" class="module-section">
                <h2 class="section-title">🔌 IoT Fundamentals</h2>

                <div class="card">
                    <h3>🌐 What is IoT?</h3>
                    <p>The Internet of Things (IoT) describes the network of physical objects embedded with sensors, software, and connectivity to collect and exchange data. These "smart" devices range from simple sensors to complex industrial machinery.</p>
                </div>

                <div class="card">
                    <h3>🏗️ IoT Architecture Layers</h3>
                    <p>Understanding IoT architecture is crucial for identifying attack surfaces:</p>
                    
                    <div class="iot-architecture">
                        <div class="layer-card">
                            <h4>📱 Application Layer</h4>
                            <p>User interfaces, mobile apps, web dashboards, and business logic</p>
                        </div>
                        <div class="layer-card">
                            <h4>🌐 Middleware Layer</h4>
                            <p>Data processing, device management, and service orchestration</p>
                        </div>
                        <div class="layer-card">
                            <h4>🌍 Internet Layer</h4>
                            <p>Network protocols, routing, and communication pathways</p>
                        </div>
                        <div class="layer-card">
                            <h4>🚪 Gateway Layer</h4>
                            <p>Protocol translation, edge processing, and network bridging</p>
                        </div>
                        <div class="layer-card">
                            <h4>⚙️ Edge Technology Layer</h4>
                            <p>Sensors, actuators, embedded systems, and data collection</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>📡 IoT Communication Protocols</h3>
                    <div class="grid-3">
                        <div class="feature-card">
                            <h4>WiFi/802.11</h4>
                            <p>High-bandwidth, power-intensive communication for smart home devices</p>
                        </div>
                        <div class="feature-card">
                            <h4>Bluetooth/BLE</h4>
                            <p>Short-range, low-energy communication for wearables and beacons</p>
                        </div>
                        <div class="feature-card">
                            <h4>Zigbee</h4>
                            <p>Mesh networking protocol for smart home and industrial automation</p>
                        </div>
                        <div class="feature-card">
                            <h4>Z-Wave</h4>
                            <p>Proprietary protocol for home automation with strong encryption</p>
                        </div>
                        <div class="feature-card">
                            <h4>LoRa/LoRaWAN</h4>
                            <p>Long-range, low-power protocol for IoT sensor networks</p>
                        </div>
                        <div class="feature-card">
                            <h4>Cellular (4G/5G)</h4>
                            <p>High-speed mobile connectivity for critical IoT applications</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>🚨 OWASP IoT Top 10 (2018)</h3>
                    <div class="attack-vector">
                        <h4>1. Weak, Guessable, or Hardcoded Passwords</h4>
                        <p>Default credentials, weak password policies, and hardcoded authentication bypass vulnerabilities.</p>
                    </div>
                    <div class="attack-vector">
                        <h4>2. Insecure Network Services</h4>
                        <p>Unnecessary network services running on devices that compromise device confidentiality, integrity, or availability.</p>
                    </div>
                    <div class="attack-vector">
                        <h4>3. Insecure Ecosystem Interfaces</h4>
                        <p>Insecure web, backend API, cloud, or mobile interfaces outside the device that allow compromise.</p>
                    </div>
                    <div class="attack-vector">
                        <h4>4. Lack of Secure Update Mechanism</h4>
                        <p>Missing ability to securely update the device including lack of firmware validation and secure delivery.</p>
                    </div>
                    <div class="attack-vector">
                        <h4>5. Use of Insecure or Outdated Components</h4>
                        <p>Deprecated software components/libraries or insecure customization of operating system platforms.</p>
                    </div>
                </div>

                <button class="btn btn-success" onclick="showSection('ot-systems')">Next: Operational Technology Systems →</button>
            </div>

            <!-- OT Systems Section -->
            <div id="ot-systems" class="module-section">
                <h2 class="section-title">🏭 Operational Technology (OT) Systems</h2>

                <div class="card">
                    <h3>🔧 What is OT?</h3>
                    <p>Operational Technology (OT) refers to computing systems used to monitor and control industrial operations, infrastructure, and facility processes. Unlike IT systems focused on data processing, OT systems directly interact with physical processes.</p>
                </div>

                <div class="card">
                    <h3>🏗️ Industrial Control Systems (ICS) Architecture</h3>
                    <div class="grid-2">
                        <div class="feature-card">
                            <h4>🖥️ SCADA Systems</h4>
                            <p><strong>Supervisory Control and Data Acquisition</strong><br>
                            Centralized systems for monitoring and controlling distributed processes across large geographical areas.</p>
                            <ul style="margin-top: 10px; line-height: 1.6;">
                                <li>Human Machine Interface (HMI)</li>
                                <li>Master Terminal Unit (MTU)</li>
                                <li>Communication infrastructure</li>
                                <li>Remote Terminal Units (RTUs)</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>🔌 PLC Systems</h4>
                            <p><strong>Programmable Logic Controllers</strong><br>
                            Industrial computers controlling manufacturing processes, machinery, and assembly lines.</p>
                            <ul style="margin-top: 10px; line-height: 1.6;">
                                <li>Ladder logic programming</li>
                                <li>Input/Output modules</li>
                                <li>Real-time process control</li>
                                <li>Safety-critical operations</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>📊 The Purdue Model</h3>
                    <p>The Purdue Enterprise Reference Architecture (PERA) defines the hierarchical structure of industrial networks:</p>
                    
                    <div style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 25px; border-radius: 15px; margin: 20px 0;">
                        <div style="display: grid; gap: 15px;">
                            <div style="background: #e74c3c; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>Level 5: Enterprise Network</strong><br>
                                Corporate IT systems, business planning, ERP
                            </div>
                            <div style="background: #f39c12; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>Level 4: Business Logistics</strong><br>
                                Manufacturing execution systems (MES), scheduling
                            </div>
                            <div style="background: #f1c40f; color: black; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>Level 3: Operations Management</strong><br>
                                SCADA, HMI, historians, operation management
                            </div>
                            <div style="background: #27ae60; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>Level 2: Supervisory Control</strong><br>
                                Supervisory control systems, DCS supervisors
                            </div>
                            <div style="background: #3498db; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>Level 1: Basic Control</strong><br>
                                PLCs, DCS controllers, RTUs
                            </div>
                            <div style="background: #9b59b6; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>Level 0: Physical Process</strong><br>
                                Sensors, actuators, physical equipment
                            </div>
                        </div>
                    </div>
                </div>

                <button class="btn btn-success" onclick="showSection('attack-vectors')">Next: Attack Vectors →</button>
            </div>

            <!-- Attack Vectors Section -->
            <div id="attack-vectors" class="module-section">
                <h2 class="section-title">⚔️ IoT and OT Attack Vectors</h2>

                <div class="card">
                    <h3>🎯 IoT Device-Level Attacks</h3>
                    <div class="attack-vector">
                        <h4>🔓 Firmware Analysis and Exploitation</h4>
                        <p>Extracting, analyzing, and modifying device firmware to identify vulnerabilities and backdoors.</p>
                        <div class="terminal">
                            <div class="terminal-line">$ binwalk -e firmware.bin</div>
                            <div class="terminal-line">DECIMAL       HEXADECIMAL     DESCRIPTION</div>
                            <div class="terminal-line">0             0x0             uImage header</div>
                            <div class="terminal-line">64            0x40            Linux kernel ARM boot</div>
                            <div class="terminal-line">1234567       0x12D687        Squashfs filesystem</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>🤖 IoT Malware and Botnets</h3>
                    <div class="grid-2">
                        <div class="attack-vector">
                            <h4>👹 Mirai Botnet</h4>
                            <p>The most notorious IoT botnet that compromised over 600,000 devices:</p>
                            <ul style="margin: 10px 0; padding-left: 20px;">
                                <li>Targets weak Telnet/SSH credentials</li>
                                <li>Spreads via brute-force attacks</li>
                                <li>Creates massive DDoS botnets</li>
                                <li>Source code publicly released</li>
                            </ul>
                        </div>
                        <div class="attack-vector">
                            <h4>🦠 Other IoT Malware</h4>
                            <ul style="line-height: 1.8;">
                                <li><strong>Reaper/IoTroop:</strong> Advanced IoT malware with exploit capabilities</li>
                                <li><strong>BrickerBot:</strong> Destructive malware that "bricks" devices</li>
                                <li><strong>TheMoon:</strong> Targets Linksys routers for persistent access</li>
                                <li><strong>Hajime:</strong> P2P botnet competing with Mirai</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>💥 Historical OT Attacks</h3>
                    <div class="grid-2">
                        <div class="attack-vector">
                            <h4>💀 Stuxnet (2010)</h4>
                            <p>The first known cyberweapon targeting industrial systems:</p>
                            <ul style="margin: 10px 0; padding-left: 20px;">
                                <li>Targeted Iranian nuclear centrifuges</li>
                                <li>Modified PLC ladder logic</li>
                                <li>Caused physical damage to equipment</li>
                                <li>Used multiple zero-day exploits</li>
                            </ul>
                        </div>
                        <div class="attack-vector">
                            <h4>⛽ Colonial Pipeline (2021)</h4>
                            <p>Ransomware attack affecting critical infrastructure:</p>
                            <ul style="margin: 10px 0; padding-left: 20px;">
                                <li>DarkSide ransomware group</li>
                                <li>Shut down largest US fuel pipeline</li>
                                <li>$4.4 million ransom payment</li>
                                <li>Widespread fuel shortage panic</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <button class="btn btn-success" onclick="showSection('methodology')">Next: Hacking Methodology →</button>
            </div>

            <!-- Methodology Section -->
            <div id="methodology" class="module-section">
                <h2 class="section-title">🛠️ IoT and OT Hacking Methodology</h2>

                <div class="card">
                    <h3>🎯 The 5-Phase Hacking Process</h3>
                    <div style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 25px; border-radius: 15px; margin: 20px 0;">
                        <div style="display: grid; gap: 20px;">
                            <div style="background: #3498db; color: white; padding: 20px; border-radius: 10px; cursor: pointer;" onclick="showMethodologyDetail('reconnaissance')">
                                <strong>1. 🔍 Information Gathering & Reconnaissance</strong><br>
                                Device discovery, network mapping, protocol identification, and vulnerability scanning
                            </div>
                            <div style="background: #9b59b6; color: white; padding: 20px; border-radius: 10px; cursor: pointer;" onclick="showMethodologyDetail('enumeration')">
                                <strong>2. 📋 Enumeration & Fingerprinting</strong><br>
                                Service enumeration, device fingerprinting, firmware analysis, and protocol analysis
                            </div>
                            <div style="background: #f39c12; color: white; padding: 20px; border-radius: 10px; cursor: pointer;" onclick="showMethodologyDetail('vulnerability')">
                                <strong>3. 🔓 Vulnerability Assessment</strong><br>
                                Security testing, authentication bypass, protocol fuzzing, and exploit development
                            </div>
                            <div style="background: #e74c3c; color: white; padding: 20px; border-radius: 10px; cursor: pointer;" onclick="showMethodologyDetail('exploitation')">
                                <strong>4. ⚔️ Exploitation & Access</strong><br>
                                Initial compromise, privilege escalation, lateral movement, and persistent access
                            </div>
                            <div style="background: #27ae60; color: white; padding: 20px; border-radius: 10px; cursor: pointer;" onclick="showMethodologyDetail('post-exploitation')">
                                <strong>5. 🎭 Post-Exploitation & Impact</strong><br>
                                Data exfiltration, system manipulation, botnet recruitment, and covering tracks
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>🔍 Network Discovery Techniques</h3>
                    <div class="terminal">
                        <div class="terminal-line">$ nmap -sn 192.168.1.0/24</div>
                        <div class="terminal-line"># Discover IoT devices on network</div>
                        <div class="terminal-line">$ masscan -p1-65535 --rate=1000 192.168.1.0/24</div>
                        <div class="terminal-line"># Fast port scanning</div>
                        <div class="terminal-line">$ shodan search "default password"</div>
                        <div class="terminal-line"># Find exposed IoT devices online</div>
                    </div>
                </div>

                <div class="info-box">
                    <h4>⚖️ Ethical Considerations</h4>
                    <p><strong>Important:</strong> Always ensure you have proper authorization before testing IoT/OT systems. Industrial systems control physical processes that can cause safety hazards, environmental damage, or economic impact if disrupted.</p>
                </div>

                <button class="btn btn-success" onclick="showSection('tools')">Next: Hacking Tools →</button>
            </div>

            <!-- Tools Section -->
            <div id="tools" class="module-section">
                <h2 class="section-title">🔧 IoT and OT Hacking Tools</h2>

                <div class="card">
                    <h3>🌐 Network Discovery & Scanning Tools</h3>
                    <div class="tool-showcase">
                        <div class="tool-card">
                            <h4>🎯 Shodan</h4>
                            <p><strong>Internet-connected Device Search Engine</strong></p>
                            <p>Discover exposed IoT devices, industrial systems, and misconfigured services globally.</p>
                            <div class="terminal">
                                <div class="terminal-line">$ shodan search "default password"</div>
                                <div class="terminal-line">$ shodan search "port:502 country:US"</div>
                            </div>
                        </div>
                        <div class="tool-card">
                            <h4>📡 Masscan</h4>
                            <p><strong>Ultra-Fast Port Scanner</strong></p>
                            <p>High-speed network scanning for large IoT deployments and industrial networks.</p>
                            <div class="terminal">
                                <div class="terminal-line">$ masscan -p1-65535 --rate=1000 10.0.0.0/8</div>
                            </div>
                        </div>
                        <div class="tool-card">
                            <h4>🔍 Nmap with IoT Scripts</h4>
                            <p><strong>Network Mapper with IoT/OT Scripts</strong></p>
                            <p>Comprehensive network discovery and service enumeration for industrial protocols.</p>
                            <div class="terminal">
                                <div class="terminal-line">$ nmap --script modbus* target</div>
                                <div class="terminal-line">$ nmap --script mqtt* -p 1883 target</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>🔬 Firmware Analysis Tools</h3>
                    <div class="tool-showcase">
                        <div class="tool-card">
                            <h4>📦 Binwalk</h4>
                            <p><strong>Firmware Analysis Toolkit</strong></p>
                            <p>Extract and analyze firmware images, identify embedded files and file systems.</p>
                            <div class="terminal">
                                <div class="terminal-line">$ binwalk -e firmware.bin</div>
                                <div class="terminal-line">$ binwalk -A firmware.bin</div>
                            </div>
                        </div>
                        <div class="tool-card">
                            <h4>🧬 FIRMADYNE</h4>
                            <p><strong>Automated Firmware Emulation</strong></p>
                            <p>Dynamic analysis platform for IoT firmware with network emulation capabilities.</p>
                        </div>
                        <div class="tool-card">
                            <h4>🔌 Bus Pirate</h4>
                            <p><strong>Universal Serial Interface Tool</strong></p>
                            <p>Multi-protocol hardware hacking tool for UART, SPI, I2C, and JTAG interfaces.</p>
                        </div>
                    </div>
                </div>

                <button class="btn btn-success" onclick="showSection('countermeasures')">Next: Security Countermeasures →</button>
            </div>

            <!-- Countermeasures Section -->
            <div id="countermeasures" class="module-section">
                <h2 class="section-title">🛡️ IoT and OT Security Countermeasures</h2>

                <div class="card">
                    <h3>🏗️ Defense-in-Depth Strategy</h3>
                    <p>Implementing multiple layers of security controls to protect IoT and OT environments:</p>
                    
                    <div style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 25px; border-radius: 15px; margin: 20px 0;">
                        <div style="display: grid; gap: 15px;">
                            <div style="background: #e74c3c; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>Physical Security</strong><br>
                                Secure facilities, device access controls, tamper detection
                            </div>
                            <div style="background: #f39c12; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>Network Security</strong><br>
                                Segmentation, firewalls, intrusion detection systems
                            </div>
                            <div style="background: #f1c40f; color: black; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>Device Security</strong><br>
                                Secure boot, firmware integrity, authentication
                            </div>
                            <div style="background: #27ae60; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                                <strong>Application Security</strong><br>
                                Secure coding, input validation, encryption
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>🌐 Network Security Controls</h3>
                    <div class="grid-2">
                        <div class="feature-card">
                            <h4>🔥 Network Segmentation</h4>
                            <p>Implement micro-segmentation and zero-trust network architecture:</p>
                            <ul style="margin: 10px 0; padding-left: 20px; line-height: 1.6;">
                                <li>Separate IoT/OT networks from corporate IT</li>
                                <li>VLAN isolation for device categories</li>
                                <li>DMZ for external-facing systems</li>
                                <li>East-west traffic inspection</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>🚨 Monitoring & Detection</h4>
                            <p>Deploy specialized monitoring for IoT/OT environments:</p>
                            <ul style="margin: 10px 0; padding-left: 20px; line-height: 1.6;">
                                <li>Industrial protocol-aware IDS/IPS</li>
                                <li>Anomaly detection for device behavior</li>
                                <li>Network traffic analysis</li>
                                <li>Asset inventory and change detection</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>📋 Compliance and Standards</h3>
                    <div class="grid-3">
                        <div class="feature-card">
                            <h4>🏛️ NIST Cybersecurity Framework</h4>
                            <p>Identify, Protect, Detect, Respond, Recover framework for critical infrastructure protection.</p>
                        </div>
                        <div class="feature-card">
                            <h4>⚡ IEC 62443 Standard</h4>
                            <p>International standard for industrial automation and control systems security.</p>
                        </div>
                        <div class="feature-card">
                            <h4>🏭 NERC CIP Standards</h4>
                            <p>Critical Infrastructure Protection standards for bulk electric system security.</p>
                        </div>
                    </div>
                </div>

                <button class="btn btn-success" onclick="showSection('quiz')">Next: Knowledge Assessment →</button>
            </div>

            <!-- Quiz Section -->
            <div id="quiz" class="module-section">
                <h2 class="section-title">📝 Module 18 Assessment</h2>
                
                <div class="card">
                    <h3>🎯 Comprehensive Knowledge Test</h3>
                    <p>Test your understanding of IoT and OT hacking concepts, techniques, and countermeasures.</p>
                    
                    <div style="background: linear-gradient(135deg, rgba(52, 152, 219, 0.1), rgba(41, 128, 185, 0.1)); padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <strong>Assessment Details:</strong>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            <li>25 multiple-choice questions</li>
                            <li>Passing score: 80% (20/25 correct)</li>
                            <li>Time limit: 45 minutes</li>
                            <li>Covers all Module 18 topics</li>
                        </ul>
                    </div>
                </div>

                <div class="quiz-container" id="quizContainer">
                    <div style="text-align: center; margin: 20px 0;">
                        <button class="btn btn-primary" onclick="startQuiz()">🚀 Start Assessment</button>
                    </div>
                </div>

                <div class="card" id="quizResults" style="display: none;">
                    <h3>📊 Assessment Results</h3>
                    <div id="resultsContent"></div>
                </div>

                <button class="btn btn-success" onclick="showSection('resources')">View Resources →</button>
            </div>

            <!-- Resources Section -->
            <div id="resources" class="module-section">
                <h2 class="section-title">📚 Resources & References</h2>
                
                <div class="card">
                    <h3>🎯 Essential Study Materials</h3>
                    <p>Comprehensive resources to support your learning journey in IoT and OT security.</p>
                </div>

                <div class="resources-grid">
                    <div class="resource-card">
                        <h4>📖 Official Documentation</h4>
                        <ul style="line-height: 1.8;">
                            <li><a href="https://www.eccouncil.org/train-certify/certified-ethical-hacker-ceh/" target="_blank" class="resource-link">CEH v13 Official Course</a></li>
                            <li><a href="https://ilabs.eccouncil.org/" target="_blank" class="resource-link">EC-Council iLabs Platform</a></li>
                            <li><a href="https://www.eccouncil.org/cybersecurity-exchange/" target="_blank" class="resource-link">Cybersecurity Knowledge Exchange</a></li>
                        </ul>
                    </div>

                    <div class="resource-card">
                        <h4>🌐 IoT Security Resources</h4>
                        <ul style="line-height: 1.8;">
                            <li><a href="https://owasp.org/www-project-iot-top-10/" target="_blank" class="resource-link">OWASP IoT Top 10</a></li>
                            <li><a href="https://www.iotsecurityfoundation.org/" target="_blank" class="resource-link">IoT Security Foundation</a></li>
                            <li><a href="https://www.shodan.io/" target="_blank" class="resource-link">Shodan - IoT Search Engine</a></li>
                        </ul>
                    </div>

                    <div class="resource-card">
                        <h4>🏭 OT Security Standards</h4>
                        <ul style="line-height: 1.8;">
                            <li><a href="https://www.isa.org/standards-and-publications/isa-standards/isa-iec-62443-series-of-standards/" target="_blank" class="resource-link">IEC 62443 Standards</a></li>
                            <li><a href="https://www.nerc.com/pa/Stand/Pages/CIPStandards.aspx" target="_blank" class="resource-link">NERC CIP Standards</a></li>
                            <li><a href="https://www.nist.gov/cyberframework" target="_blank" class="resource-link">NIST Cybersecurity Framework</a></li>
                        </ul>
                    </div>

                    <div class="resource-card">
                        <h4>🔧 Security Tools</h4>
                        <ul style="line-height: 1.8;">
                            <li><a href="https://github.com/ReFirmLabs/binwalk" target="_blank" class="resource-link">Binwalk - Firmware Analysis</a></li>
                            <li><a href="https://github.com/firmadyne/firmadyne" target="_blank" class="resource-link">FIRMADYNE - Firmware Emulation</a></li>
                            <li><a href="https://www.wireshark.org/" target="_blank" class="resource-link">Wireshark - Protocol Analysis</a></li>
                        </ul>
                    </div>
                </div>

                <div class="warning-box">
                    <h4>⚖️ Legal and Ethical Disclaimers</h4>
                    <p><strong>Important Legal Notice:</strong></p>
                    <ul style="margin: 10px 0; padding-left: 20px;">
                        <li>All techniques demonstrated are for educational purposes only</li>
                        <li>Only perform testing on systems you own or have explicit authorization to test</li>
                        <li>Unauthorized access to IoT/OT systems is illegal and may cause physical harm</li>
                        <li>Industrial system disruption can result in safety hazards and environmental damage</li>
                        <li>Always follow responsible disclosure practices for discovered vulnerabilities</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for detailed information -->
    <div id="detailModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <!-- Keyboard navigation hint -->
    <div class="keyboard-hint">
        Use ← → to navigate | Esc to close modals
    </div>

    <script>
        // Global variables
        let currentSection = 'overview';
        let completedSections = new Set(['overview']);
        let sectionOrder = ['overview', 'iot-fundamentals', 'ot-systems', 'attack-vectors', 'methodology', 'tools', 'countermeasures', 'quiz', 'resources'];
        let quizAnswers = {};
        let quizScore = 0;
        let startTime = Date.now();

        // Quiz questions database
        const quizQuestions = [
            {
                question: "Which layer of the IoT architecture is responsible for protocol translation and edge processing?",
                options: ["Application Layer", "Gateway Layer", "Internet Layer", "Edge Technology Layer"],
                correct: 1,
                explanation: "The Gateway Layer acts as a bridge between devices and networks, handling protocol translation, edge processing, and network bridging functions."
            },
            {
                question: "What does SCADA stand for in industrial control systems?",
                options: ["System Control and Data Acquisition", "Supervisory Control and Data Analysis", "Supervisory Control and Data Acquisition", "System Communication and Data Access"],
                correct: 2,
                explanation: "SCADA stands for Supervisory Control and Data Acquisition - centralized systems for monitoring and controlling distributed industrial processes."
            },
            {
                question: "Which malware family is known for targeting IoT devices through brute-force attacks on Telnet and SSH?",
                options: ["Stuxnet", "Mirai", "WannaCry", "Conficker"],
                correct: 1,
                explanation: "Mirai is a notorious IoT botnet malware that targets weak Telnet/SSH credentials through brute-force attacks, compromising over 600,000 devices."
            },
            {
                question: "According to the OWASP IoT Top 10, what is the #1 vulnerability category?",
                options: ["Insecure Network Services", "Weak, Guessable, or Hardcoded Passwords", "Insecure Ecosystem Interfaces", "Lack of Secure Update Mechanism"],
                correct: 1,
                explanation: "Weak, Guessable, or Hardcoded Passwords is the #1 OWASP IoT vulnerability, involving default credentials and weak authentication mechanisms."
            },
            {
                question: "What is the primary communication protocol used by Modbus in industrial networks?",
                options: ["TCP/IP port 443", "UDP port 161", "TCP port 502", "TCP port 80"],
                correct: 2,
                explanation: "Modbus typically uses TCP port 502 for Modbus TCP communication in industrial network environments."
            }
        ];

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            
            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeModal();
                } else if (e.key === 'ArrowLeft') {
                    navigateSection(-1);
                } else if (e.key === 'ArrowRight') {
                    navigateSection(1);
                }
            });
        });

        // Function to show sections
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.module-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show target section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
                currentSection = sectionId;
                completedSections.add(sectionId);
                
                // Update navigation buttons
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                const activeBtn = Array.from(document.querySelectorAll('.nav-btn')).find(btn => 
                    btn.textContent.includes(getButtonText(sectionId))
                );
                if (activeBtn) activeBtn.classList.add('active');
                
                updateProgress();
            }
        }

        function getButtonText(sectionId) {
            const textMap = {
                'overview': 'Overview',
                'iot-fundamentals': 'IoT Fundamentals',
                'ot-systems': 'OT Systems',
                'attack-vectors': 'Attack Vectors',
                'methodology': 'Methodology',
                'tools': 'Tools',
                'countermeasures': 'Countermeasures',
                'quiz': 'Assessment',
                'resources': 'Resources'
            };
            return textMap[sectionId] || sectionId;
        }

        // Navigation between sections
        function navigateSection(direction) {
            const currentIndex = sectionOrder.indexOf(currentSection);
            let newIndex = currentIndex + direction;
            
            if (newIndex >= 0 && newIndex < sectionOrder.length) {
                showSection(sectionOrder[newIndex]);
            }
        }

        // Progress tracking
        function updateProgress() {
            const totalSections = sectionOrder.length;
            const completedCount = completedSections.size;
            const progressPercent = Math.round((completedCount / totalSections) * 100);
            
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            
            if (progressBar && progressText) {
                progressBar.style.width = `${progressPercent}%`;
                progressText.textContent = `Progress: ${progressPercent}% Complete`;
            }
        }

        // Quiz functions
        function startQuiz() {
            const container = document.getElementById('quizContainer');
            const shuffledQuestions = [...quizQuestions].sort(() => Math.random() - 0.5);
            
            container.innerHTML = `
                <div id="quizQuestions">
                    ${shuffledQuestions.map((q, index) => `
                        <div class="question">
                            <h4>Question ${index + 1}</h4>
                            <p>${q.question}</p>
                            <div class="options">
                                ${q.options.map((option, optIndex) => `
                                    <label class="option" onclick="selectAnswer(${index}, ${optIndex})">
                                        <input type="radio" name="q${index}" value="${optIndex}" style="margin-right: 10px;">
                                        ${option}
                                    </label>
                                `).join('')}
                            </div>
                            <div class="explanation" id="explanation${index}">
                                <strong>Explanation:</strong> ${q.explanation}
                            </div>
                        </div>
                    `).join('')}
                    <div style="text-align: center; margin: 30px 0;">
                        <button class="btn btn-success" onclick="submitQuiz()">📊 Submit Assessment</button>
                    </div>
                </div>
            `;
            
            window.currentQuizQuestions = shuffledQuestions;
        }

        function selectAnswer(questionIndex, answerIndex) {
            quizAnswers[questionIndex] = answerIndex;
            
            const questionElement = document.querySelectorAll('.question')[questionIndex];
            const options = questionElement.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            options[answerIndex].classList.add('selected');
        }

        function submitQuiz() {
            let correctAnswers = 0;
            const totalQuestions = window.currentQuizQuestions.length;
            
            window.currentQuizQuestions.forEach((question, index) => {
                const userAnswer = quizAnswers[index];
                const isCorrect = userAnswer === question.correct;
                
                if (isCorrect) correctAnswers++;
                
                const questionElement = document.querySelectorAll('.question')[index];
                const options = questionElement.querySelectorAll('.option');
                
                options.forEach((option, optIndex) => {
                    if (optIndex === question.correct) {
                        option.classList.add('incorrect');
                    }
                });
                
                document.getElementById(`explanation${index}`).style.display = 'block';
            });
            
            quizScore = Math.round((correctAnswers / totalQuestions) * 100);
            
            const resultsContainer = document.getElementById('quizResults');
            const resultsContent = document.getElementById('resultsContent');
            
            const passed = quizScore >= 80;
            const resultIcon = passed ? '🎉' : '📚';
            const resultMessage = passed ? 'Congratulations! You passed!' : 'Keep studying and try again!';
            
            resultsContent.innerHTML = `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 4em; margin-bottom: 20px;">${resultIcon}</div>
                    <h3 style="color: var(--${passed ? 'success' : 'warning'}-color);">${resultMessage}</h3>
                    <div style="font-size: 2em; margin: 20px 0; font-weight: bold;">
                        Score: ${correctAnswers}/${totalQuestions} (${quizScore}%)
                    </div>
                    <div style="margin: 20px 0;">
                        <p><strong>Time Spent:</strong> ${Math.round((Date.now() - startTime) / 1000 / 60)} minutes</p>
                        <p><strong>Passing Score:</strong> 80% (4/5 questions)</p>
                    </div>
                    ${passed ? `
                        <div style="background: var(--gradient-success); padding: 20px; border-radius: 10px; color: white; margin: 20px 0;">
                            <h4>🏆 Excellent Work!</h4>
                            <p>You've demonstrated mastery of IoT and OT hacking concepts. You're ready for advanced cybersecurity challenges!</p>
                        </div>
                    ` : `
                        <div style="background: var(--gradient-secondary); padding: 20px; border-radius: 10px; color: white; margin: 20px 0;">
                            <h4>📖 Study Recommendations</h4>
                            <p>Review IoT architecture, OT systems, attack vectors, and security countermeasures. Try the assessment again when ready.</p>
                        </div>
                    `}
                    <button class="btn btn-primary" onclick="resetQuiz()" style="margin: 10px;">🔄 Retake Assessment</button>
                    <button class="btn btn-success" onclick="showSection('resources')" style="margin: 10px;">📚 View Resources</button>
                </div>
            `;
            
            resultsContainer.style.display = 'block';
            resultsContainer.scrollIntoView({ behavior: 'smooth' });
        }

        function resetQuiz() {
            quizAnswers = {};
            quizScore = 0;
            document.getElementById('quizResults').style.display = 'none';
            document.getElementById('quizContainer').innerHTML = `
                <div style="text-align: center; margin: 20px 0;">
                    <button class="btn btn-primary" onclick="startQuiz()">🚀 Start Assessment</button>
                </div>
            `;
        }

        // Modal functions
        function showMethodologyDetail(phase) {
            const modal = document.getElementById('detailModal');
            const modalContent = document.getElementById('modalContent');
            
            const phaseDetails = {
                'reconnaissance': {
                    title: '🔍 Information Gathering & Reconnaissance',
                    content: `
                        <h3>Phase 1: Information Gathering</h3>
                        <h4>🌐 Network Discovery Techniques:</h4>
                        <ul>
                            <li><strong>Network Scanning:</strong> Identify IoT/OT devices on target networks</li>
                            <li><strong>Service Enumeration:</strong> Discover running services and open ports</li>
                            <li><strong>Protocol Identification:</strong> Identify industrial and IoT protocols in use</li>
                            <li><strong>OSINT Gathering:</strong> Collect publicly available information about target systems</li>
                        </ul>
                        <div class="terminal">
                            <div class="terminal-line">$ nmap -sS -O --script discovery 192.168.1.0/24</div>
                            <div class="terminal-line">$ shodan search "port:502 country:US"</div>
                            <div class="terminal-line">$ masscan -p1-65535 --rate=1000 target_network</div>
                        </div>
                    `
                },
                'enumeration': {
                    title: '📋 Enumeration & Fingerprinting',
                    content: `
                        <h3>Phase 2: Device Enumeration</h3>
                        <h4>🔧 Fingerprinting Techniques:</h4>
                        <ul>
                            <li><strong>Device Identification:</strong> Determine device types, models, and firmware versions</li>
                            <li><strong>Service Enumeration:</strong> Identify specific services and their configurations</li>
                            <li><strong>Protocol Analysis:</strong> Understand communication protocols and data formats</li>
                            <li><strong>Firmware Analysis:</strong> Extract and analyze device firmware for vulnerabilities</li>
                        </ul>
                        <div class="terminal">
                            <div class="terminal-line">$ nmap --script modbus-discover -p 502 target</div>
                            <div class="terminal-line">$ binwalk -e firmware.bin</div>
                            <div class="terminal-line">$ strings firmware.bin | grep -i password</div>
                        </div>
                    `
                },
                'vulnerability': {
                    title: '🔓 Vulnerability Assessment',
                    content: `
                        <h3>Phase 3: Security Testing</h3>
                        <h4>🕳️ Vulnerability Assessment Methods:</h4>
                        <ul>
                            <li><strong>Authentication Testing:</strong> Test for weak or default credentials</li>
                            <li><strong>Protocol Fuzzing:</strong> Test protocol implementations for flaws</li>
                            <li><strong>Web Interface Testing:</strong> Assess device web interfaces for vulnerabilities</li>
                            <li><strong>Firmware Vulnerability Analysis:</strong> Analyze firmware for security flaws</li>
                        </ul>
                        <div class="terminal">
                            <div class="terminal-line">$ hydra -L users.txt -P passwords.txt target telnet</div>
                            <div class="terminal-line">$ nmap --script vuln target</div>
                            <div class="terminal-line">$ nikto -h http://target</div>
                        </div>
                    `
                },
                'exploitation': {
                    title: '⚔️ Exploitation & Access',
                    content: `
                        <h3>Phase 4: Initial Compromise</h3>
                        <h4>🎯 Exploitation Techniques:</h4>
                        <ul>
                            <li><strong>Credential Exploitation:</strong> Use discovered credentials to gain access</li>
                            <li><strong>Protocol Exploitation:</strong> Exploit vulnerabilities in industrial protocols</li>
                            <li><strong>Firmware Exploitation:</strong> Exploit firmware vulnerabilities for access</li>
                            <li><strong>Privilege Escalation:</strong> Escalate privileges on compromised systems</li>
                        </ul>
                        <div class="terminal">
                            <div class="terminal-line">$ telnet target 23</div>
                            <div class="terminal-line">$ msfconsole -x "use exploit/linux/telnet/telnet_login"</div>
                            <div class="terminal-line">$ python exploit.py target</div>
                        </div>
                    `
                },
                'post-exploitation': {
                    title: '🎭 Post-Exploitation Activities',
                    content: `
                        <h3>Phase 5: Maintaining Access & Impact</h3>
                        <h4>🎪 Post-Exploitation Objectives:</h4>
                        <ul>
                            <li><strong>Data Exfiltration:</strong> Extract sensitive operational data</li>
                            <li><strong>System Manipulation:</strong> Modify system configurations or processes</li>
                            <li><strong>Lateral Movement:</strong> Move to other connected systems</li>
                            <li><strong>Persistent Access:</strong> Establish backdoors for continued access</li>
                        </ul>
                        <div class="warning-box">
                            <strong>⚠️ Ethical Considerations:</strong> In real penetration testing, document findings and immediately report critical vulnerabilities that could impact safety or operations.
                        </div>
                    `
                }
            };
            
            const detail = phaseDetails[phase];
            if (detail) {
                modalContent.innerHTML = `
                    <h2>${detail.title}</h2>
                    ${detail.content}
                `;
                modal.style.display = 'block';
            }
        }

        function closeModal() {
            const modal = document.getElementById('detailModal');
            modal.style.display = 'none';
        }

        // Click outside modal to close
        window.onclick = function(event) {
            const modal = document.getElementById('detailModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }

        // Add click event listeners for navigation buttons
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    const onClick = this.getAttribute('onclick');
                    if (onClick) {
                        eval(onClick);
                    }
                });
            });
        });
    </script>
</body>
</html>correct');
                    } else if (optIndex === userAnswer && !isCorrect) {
                        option.classList.add('